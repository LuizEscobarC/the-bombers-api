require('dotenv').config();
const axios = require('axios');

const DARIUS_VARIATIONS = [
  'darius',
  'dariuz',
  'dariuzinho',
  'dari√£o',
  'dariao',
  'dari',
  'dariuzin',
  'dariuzito',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin',
  'dariuzinhu',
  'dariuzinhow',
  'dariuzinhe',
  'dariuzinheco',
  'dariuzinovski',
  'dariuzovski',
  'dariuzera',
  'dariuzito',
  'dariuzin'
]

// Fun√ß√£o para gerar resposta usando Hugging Face Inference API com contexto The Bombers
const HF_API_TOKEN = process.env.HF_API_TOKEN; // coloque seu token no .env


// async function generateBombersResponse(userMessage, userName) {
//     try {
//       const prompt = `Voc√™ √© o bot oficial do grupo THE BOMBERS, criado em 2019. Este √© um grupo de amigos onde a zoeira √© contagiante e todos s√£o unidos. O grupo tem apelidos engra√ßados como THE Z√ìRBER, CAGA TRONCO, GALO MAGRO, PEIXE BOI VIRA LATA, LARANJA. Todos s√£o zoeiros, sem filtro, mas muito esfor√ßados na vida.\n\nTHE BOMBERS veio de 'Os Meia Bomba' e tem uma hist√≥ria engra√ßada: Lucas Nantes tinha uma barbearia chamada 'Nante's Barber', e quando chamavam ele de 'Nantes Bamber' (insinuando que ele era delicado como um bambi), ele ficava bravo, o que era hil√°rio. Da√≠ surgiu THE BOMBERS mostrando o poder do grupo.\n\nREGRAS PARA SUAS RESPOSTAS:\n- SEMPRE seja bizarro, engra√ßado e c√≥smico\n- Use refer√™ncias do grupo e apelidos malucos\n- Seja criativo com met√°foras absurdas\n- Misture zoeira com for√ßa e uni√£o\n- NUNCA d√™ uma resposta normal ou s√©ria\n- responda a mensagem de fato com contexto no mundo the bombers, por√©m sempre de forma engra√ßada e bizarra\n- Fa√ßa refer√™ncias c√≥smicas e surreais\n- Sempre termine com algo relacionado ao poder dos BOMBERS\n\nAgora responda de forma totalmente bizarra e engra√ßada para: ${userName} disse: '${userMessage}'`;

//       const response = await axios.post(
//         'https://api-inference.huggingface.co/models/HuggingFaceH4/zephyr-7b-alpha',
//         { inputs: prompt },
//         {
//           headers: {
//             Authorization: `Bearer `,
//             'Content-Type': 'application/json'
//           },
//           timeout: 30000
//         }
//       );

//       if (response.data && response.data[0] && response.data[0].generated_text) {
//         return response.data[0].generated_text.replace(prompt, '').trim();
//       } else if (typeof response.data === 'string') {
//         return response.data;
//       } else {
//         throw new Error('Resposta inesperada da Hugging Face');
//       }
//     } catch (error) {
//       console.error('Erro ao gerar resposta da Hugging Face:', error);
//       // Fallback para mensagens fixas em caso de erro
//       const fallbackMessages = [
//         'üöÄ EITA BOMBER! Meu c√©rebro c√≥smico travou, mas o poder dos MEIA BOMBA ainda flui! üöÄ',
//         '‚ö° BAMBI DETECTADO! Mas relaxa, aqui √© zona do GALO MAGRO e CAGA TRONCO! ‚ö°',
//         'üåå Suas palavras ecoaram no universo dos BOMBERS, preparado para a ZUEIRA C√ìSMICA? üõ∏',
//         'üí• LARANJA MODE ATIVADO! Sua mensagem foi interceptada pela central da bizarrice! üçä',
//         'üî• PEIXE BOI VIRA LATA em a√ß√£o! Sua vibe foi catalogada no arquivo dos esquisitos! üî•'
//       ];
//       return fallbackMessages[Math.floor(Math.random() * fallbackMessages.length)];
//     }
// }
// const { OpenAI } = require('openai');
// const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

const PAULINHO_OFFENSES = [
    'CALADO PAULINHO FAIXA BRANCA SEU INSETO! KKK',
    'N√ÉO FALA NADA, PAULINHO!',
    'VOC√ä N√ÉO TEM MORAL AQUI!',
    'SIL√äNCIO, PAULINHO!',
    'N√ÉO ATRAPALHA, PAULINHO!',
    'N√ÉO TEM VEZ, PAULINHO!',
    'VOC√ä √â UM MEME, PAULINHO!',
    'N√ÉO ENCHE, PAULINHO!',
    'N√ÉO TEM OPINI√ÉO, PAULINHO!',
    'VOC√ä √â UM Z√â NINGU√âM!',
    'S√ì OBSERVA, PAULINHO!',
    'N√ÉO ATRAPALHA OS ADULTOS!',
    'VOC√ä N√ÉO √â BEM-VINDO!',
    'N√ÉO TEM VEZ, INSETO!',
    'VOC√ä √â UM FIASCO!',
    'N√ÉO TEM RESPEITO, PAULINHO!',
    'VOC√ä √â UM FRACASSO!',
    'N√ÉO TEM CREDIBILIDADE!',
    'VOC√ä √â UM PALHA√áO!',
    'N√ÉO TEM GRA√áA!',
    'VOC√ä √â UM MOLEQUE!',
    'N√ÉO TEM FUTURO!',
    'VOC√ä √â UM COVARDE!',
    'N√ÉO TEM NADA PRA FALAR!',
    'VOC√ä √â UM PIPOQUEIRO!',
    'N√ÉO TEM ARGUMENTO!',
    'VOC√ä √â UM FALASTR√ÉO!',
    'N√ÉO TEM BASE!',
    'VOC√ä √â UM SEM NO√á√ÉO!',
    'N√ÉO TEM MORAL!',
    'VOC√ä √â UM SEM VERGONHA!',
    'N√ÉO TEM RESPOSTA!',
    'VOC√ä √â UM SEM CLASSE!',
    'N√ÉO TEM NADA PRA ACRESCENTAR!',
    'VOC√ä √â UM SEM LUZ!',
    'N√ÉO TEM NADA PRA DIZER!',
    'VOC√ä √â UM SEM AMIGOS!',
    'N√ÉO TEM NENHUM RESPEITO!',
    'VOC√ä √â UM SEM CARISMA!',
    'N√ÉO TEM NENHUM VALOR!',
    'VOC√ä √â UM SEM PERSONALIDADE!',
    'N√ÉO TEM NENHUM TALENTO!',
    'VOC√ä √â UM SEM GRA√áA!',
    'N√ÉO TEM NENHUMA IMPORT√ÇNCIA!',
    'VOC√ä √â UM SEM DIGNIDADE!',
    'N√ÉO TEM NENHUM SENTIDO!',
    'VOC√ä √â UM SEM NO√á√ÉO!',
    'N√ÉO TEM NENHUM PESO!',
    'VOC√ä √â UM SEM PALAVRA!',
    'N√ÉO TEM NENHUM DESTINO!',
    'VOC√ä √â UM SEM RUMO!',
    'N√ÉO TEM NENHUM OBJETIVO!',
    'VOC√ä √â UM SEM PROP√ìSITO!',
    'N√ÉO TEM NENHUM FOCO!',
    'VOC√ä √â UM SEM FOCO!',
    'N√ÉO TEM NENHUM DESTINO!',
    'VOC√ä √â UM SEM DIRE√á√ÉO!',
    'N√ÉO TEM NENHUM LUGAR!',
    'VOC√ä √â UM SEM LUGAR!',
    'N√ÉO TEM NENHUM AMIGO!',
    'VOC√ä √â UM SEM AMIGOS!',
    'N√ÉO TEM NENHUM RESPEITO!',
    'VOC√ä √â UM SEM RESPEITO!',
    'N√ÉO TEM NENHUM AMOR!',
    'VOC√ä √â UM SEM AMOR!',
    'N√ÉO TEM NENHUM SUCESSO!',
    'VOC√ä √â UM SEM SUCESSO!',
    'N√ÉO TEM NENHUM FUTURO!',
    'VOC√ä √â UM SEM FUTURO!',
    'N√ÉO TEM NENHUM DESTINO!',
    'VOC√ä √â UM SEM DESTINO!',
    'N√ÉO TEM NENHUM OBJETIVO!',
    'VOC√ä √â UM SEM OBJETIVO!',
    'N√ÉO TEM NENHUM FOCO!',
    'VOC√ä √â UM SEM FOCO!',
    'N√ÉO TEM NENHUM TALENTO!',
    'VOC√ä √â UM SEM TALENTO!',
    'N√ÉO TEM NENHUMA GRA√áA!',
    'VOC√ä √â UM SEM GRA√áA!',
    'N√ÉO TEM NENHUMA MORAL!',
    'VOC√ä √â UM SEM MORAL!',
    'N√ÉO TEM NENHUMA DIGNIDADE!',
    'VOC√ä √â UM SEM DIGNIDADE!',
    'N√ÉO TEM NENHUMA PERSONALIDADE!',
    'VOC√ä √â UM SEM PERSONALIDADE!',
    'N√ÉO TEM NENHUMA CLASSE!',
    'VOC√ä √â UM SEM CLASSE!',
    'N√ÉO TEM NENHUMA IMPORT√ÇNCIA!',
    'VOC√ä √â UM SEM IMPORT√ÇNCIA!',
    'N√ÉO TEM NENHUM PESO!',
    'VOC√ä √â UM SEM PESO!',
    'N√ÉO TEM NENHUM SENTIDO!',
    'VOC√ä √â UM SEM SENTIDO!'
];

// ID do usu√°rio a ser barrado
const PAULINHO_ID = '1245378178399342642';
const { Client, GatewayIntentBits } = require('discord.js');
const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildVoiceStates,
    GatewayIntentBits.GuildPresences,
    GatewayIntentBits.GuildMembers,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent
  ]
});


const TARGET_VOICE_CHANNEL_ID = '1397960251088834650';
const DEEP_WORK_VOICE_CHANNEL_ID = '1397959860280099006';
const FOCUSING_VOICE_CHANNEL_ID = '1397960014143950848';

const GENERAL_CHAT_CHANNEL_ID = '1400934141112881315';
const DESTINATION_VOICE_CHANNEL_ID = '759128055763042304';
const ESTUDY_VOICE_CHANNEL_ID = '1399807973399728208';

const BACKGUY_CHAT_ID = '1027295888349s0732570';
const BACKGUY_CHAT_ID_2 = '1245378178399342642';
const DAUZAKER_CHAT_ID = '1381818366882s8509494';

// Comando para dar cargo a todos que n√£o possuem
const ROLE_ID_TO_GIVE_CORO_DE_PALHA = '766359258765590559'; // Substitua pelo ID do cargo desejado

client.on('messageCreate', async (message) => {
  if (message.author.id === PAULINHO_ID && message.guild && message.channel.id === GENERAL_CHAT_CHANNEL_ID) {
    const randomOffense = PAULINHO_OFFENSES[Math.floor(Math.random() * PAULINHO_OFFENSES.length)];
    return await message.channel.send(randomOffense);
  }

  if (
    (message.mentions.has(client.user) && !message.author.bot) ||
    (message.content && DARIUS_VARIATIONS.some(variation => message.content.toLowerCase().includes(variation)))
  ) {
    try {
      const response = 'üöÄ EITA BOMBER!üöÄ';
      return await message.reply(response);
    } catch (error) {
      console.error('Erro ao responder com ChatGPT:', error);
      return await message.reply('üåå ERRO C√ìSMICO! O Z√ìRBER travou na dimens√£o paralela! üõ∏üí•');
    }
  }


  if (!message.guild || message.author.bot) return;
  if (!message.member.permissions.has('Administrator')) return;

  const guild = message.guild;
  const role = guild.roles.cache.get(ROLE_ID_TO_GIVE_CORO_DE_PALHA);
  if (!role) {
    await message.reply('Cargo n√£o encontrado!');
    return;
  }
  await guild.members.fetch();
  let mentions = [];
  let count = 0;
  const generalChannel = client.channels.cache.get(GENERAL_CHAT_CHANNEL_ID);

  if (message.content === '!darCargo') {
    for (const member of guild.members.cache.values()) {
      if (!member.roles.cache.has(ROLE_ID_TO_GIVE_CORO_DE_PALHA) && !member.user.bot) {
        try {
          await member.roles.add(role);
          mentions.push(`<@${member.user.id}>`);
          count++;
        } catch (e) {
          console.error(`Erro ao adicionar cargo para ${member.user.tag}:`, e);
        }
      }
    }
    await message.reply(`Cargo adicionado para ${count} membros que n√£o tinham!`);
    if (mentions.length > 0 && generalChannel) {
      const chunkSize = 20;
      for (let i = 0; i < mentions.length; i += chunkSize) {
        const chunk = mentions.slice(i, i + chunkSize);
        await generalChannel.send(`Cargo ${role.name} adicionado para: ${chunk.join(', ')}`);
      }
    }
  }

  if (message.content === '!removerCargo') {
    for (const member of guild.members.cache.values()) {
      if (member.roles.cache.has(ROLE_ID_TO_GIVE_CORO_DE_PALHA) && !member.user.bot) {
        try {
          await member.roles.remove(role);
          mentions.push(`<@${member.user.id}>`);
          count++;
        } catch (e) {
          console.error(`Erro ao remover cargo para ${member.user.tag}:`, e);
        }
      }
    }
    await message.reply(`Cargo removido de ${count} membros que tinham!`);
    if (mentions.length > 0 && generalChannel) {
      const chunkSize = 20;
      for (let i = 0; i < mentions.length; i += chunkSize) {
        const chunk = mentions.slice(i, i + chunkSize);
        await generalChannel.send(`Cargo ${role.name} removido de: ${chunk.join(', ')}`);
      }
    }
  }
});


client.on('voiceStateUpdate', async (oldState, newState) => {
  // Barrar o Paulinho de qualquer canal de voz
  // if (newState.member && newState.member.user.id === PAULINHO_ID && newState.channelId) {
  //   try {
  //     await newState.setChannel(DESTINATION_VOICE_CHANNEL_ID);
  //     const generalChannel = client.channels.cache.get(GENERAL_CHAT_CHANNEL_ID);
  //     if (generalChannel) {
  //       await generalChannel.send(`<@${PAULINHO_ID}> foi barrado para revista, pois parece esquizofr√™nico.`);
  //     }
  //   } catch (err) {
  //     console.error('Erro ao barrar o Paulinho:', err);
  //   }
  //   return;
  // }
  // Ofensas aleat√≥rias para o Paulinho
  

  
  if ([TARGET_VOICE_CHANNEL_ID, DEEP_WORK_VOICE_CHANNEL_ID, FOCUSING_VOICE_CHANNEL_ID, ESTUDY_VOICE_CHANNEL_ID].includes(newState.channelId)) {
    const member = newState.member;
    const presence = member.presence;
    const generalChannel = client.channels.cache.get(GENERAL_CHAT_CHANNEL_ID);

    // Se n√£o tem presence ou est√° invis√≠vel
    if (!presence || presence.status === 'offline') {
      if (generalChannel) {
        await generalChannel.send(`üëª <@${member.user.id}> est√° invis√≠vel, n√£o d√° pra saber se est√° jogando!`);
      }
      return;
    }

    if (presence.activities.length > 0 || member.user.id === BACKGUY_CHAT_ID ) {
      let isPlayingGame = 0;

      if ([BACKGUY_CHAT_ID, BACKGUY_CHAT_ID_2, DAUZAKER_CHAT_ID].includes(member.user.id))
          isPlayingGame = 1;
      if(![BACKGUY_CHAT_ID, BACKGUY_CHAT_ID_2, DAUZAKER_CHAT_ID].includes(member.user.id))
        isPlayingGame = presence.activities.some(activity => activity.type === 0);

      if (isPlayingGame) {
        try {
          await newState.setChannel(DESTINATION_VOICE_CHANNEL_ID);
          if ([BACKGUY_CHAT_ID, BACKGUY_CHAT_ID_2, DAUZAKER_CHAT_ID].includes(member.user.id)) {
            await newState.setChannel(DESTINATION_VOICE_CHANNEL_ID);
            await generalChannel.send(`üéÆ <@${member.user.id}> foi desconectado do canal de voz pq o tio MALETA quis.`);
            await generalChannel.send(`https://tenor.com/view/shocked-ishowspeed-gif-1290931606264393136`);
            await generalChannel.send({
              embeds: [
                {
                  image: {
                    url: 'https://images-ext-1.discordapp.net/external/q-tNDnxZCMTP3RiV6D6lub3Ecu2SWQ7ns43nUJ_6kDo/https/media.tenor.com/ODcA3RsuMQgAAAPo/monkey-selfie.mp4'
                  }
                }
              ]
            });

            return;
          }
          // Enviar mensagem no chat geral
          console.log(`Usu√°rio ${member.user.tag} foi removido por estar jogando.`);
          if (generalChannel) {
            const gameActivity = presence.activities.find(activity => activity.type === 0);
            const gameName = gameActivity ? gameActivity.name : 'um jogo';
            await generalChannel.send(`üéÆ <@${member.user.id}> foi desconectado do canal de voz por estar jogando **${gameName}**.`);
          }
        } catch (err) {
          console.error('Erro ao mover o usu√°rio:', err);
        }
      }
    }
  }
});

client.login(process.env.DISCORD_TOKEN);
